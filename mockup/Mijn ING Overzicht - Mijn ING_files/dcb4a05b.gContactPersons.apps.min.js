/*! Built by spectINGular on 11-03-2016 14:42:40 for restricted.*/
angular.module("gContactPersonsApp",["ingGlobal","ngResource","ngSanitize","ngCookies"]).config(["propertyServiceProvider",function(a){"use strict";a.add("gContactPersonsApp",{perbaSegmentName:"Uw Personal Banking Team",pribaSegmentName:"Uw Private Banking Team",wealthSegmentName:"Uw Private Wealth Management Team",welcomeSegmentMsg:"Wij helpen u graag",perbaOverlayFooterTitle:"Uw Personal Banking Team",pribaOverlayFooterTitle:"Persoonlijke aandacht voor uw vermogen",wealthOverlayFooterTitle:"Persoonlijke aandacht voor uw vermogen",perbaOverlayFooterText:"Uw Personal Banking Team helpt u graag met persoonlijk en deskundig advies bij financiële vraagstukken. Zodat u weet welke keuzes verstandig zijn, voor nu en voor later. Van dagelijkse bankzaken tot complexe financiële vraagstukken: u kunt daarbij rekenen op persoonlijk contact. Dit kan bij ons op kantoor, telefonisch of met video.<br><br>Bel ons via 020 22 888 66, bereikbaar op werkdagen van 8.00 tot 21.00 uur en op zaterdag van 9.00 tot 17.00 uur.",pribaOverlayFooterText:"Uw Private Banker en uw Accountmanager werken samen met een team van specialisten. Wellicht heeft u voor uw beleggingsportefeuille uw eigen Beleggingsadviseur of spreekt u uw Financiële Planner voor fiscaal optimale vermogensvormen. Heeft u vragen voor één van de specialisten in uw team? Neem gerust contact met hen op.<br><br>Heeft u vragen over uw dagelijkse bankzaken of over Mijn ING? Dan kunt u ING ook bellen op 020 22 888 66. Bereikbaar op werkdagen van 8.00 tot 21.00 uur en op zaterdag van 09.00 tot 17.00 uur.",wealthOverlayFooterText:"Uw Private Wealth Manager en uw Private Accountmanager werken samen met een team van specialisten. Wellicht heeft u voor uw beleggingsportefeuille uw eigen Private Asset Manager of spreekt u uw Financial Engineer voor fiscaal optimale vermogensvormen. Heeft u vragen voor hen? Neem gerust contact met hen op.<br><br>Heeft u vragen over uw dagelijkse bankzaken of over Mijn ING? Dan kunt u ING ook bellen op 020 22 888 66. Bereikbaar op werkdagen van 8.00 tot 21.00 uur en op zaterdag van 09.00 tot 17.00 uur.",afspraakText:"Maak hier een afspraak",afspraakLink:"https://www.ing.nl/personalbanking/afspraak-maken-met-een-personal-banking-specialist/index.html",errorNoData:"De gegevens van uw team zijn op dit moment niet beschikbaar.<br/>Bel 020 - 1234 567 voor meer informatie.",errorNoDataSmall:"De gegevens van uw team zijn<br/>op dit moment niet beschikbaar."})}]),angular.module("gContactPersonsApp").controller("workbenchController",["$scope","propertyService","ContactPersonsService","businessMonitoringService","$sce",function(a,b,c,d,e){"use strict";function f(){a.segment=null,a.segmentName=null,a.teamEmail=null,a.teamPhone=null,a.teamOfficeName=null,a.teamOfficeStreetAndNumber=null,a.teamOfficeZipCode=null,a.teamOfficeCity=null,a.contactPersons=[],a.numberOfContactPersons=0,a.errorWorkbench=!0,a.noData=!1,a.segmentWidthPercentage=0}var g=$;a.properties=b.properties("gContactPersonsApp"),a.smallLayout=g("html").hasClass("small"),a.segmentWidthPercentage=0,a.setSmallWorkbenchDataStyle=function(b){var c=[0,150,163,194,208],d=[0,70,65,60,50],e=c[a.numberOfContactPersons];a.segmentWidthPercentage=d[a.numberOfContactPersons],b&&b.setAttribute("style","width: "+e+"px; float: right; position: absolute; margin: 2px 0px 0px -"+(10+e)+"px; display: block; top: 0; background: none;")},a.setSmallWorkbenchNoDataStyle=function(a){a&&a.setAttribute("style","float: right; position: absolute; display: block; width: 300px; top: 0; background: none; margin: 0px 0px 0px -200px")},a.setSmallWorkbenchStyle=function(b){if(b){var c=document.getElementById("gContactPersonsApp-workbench");a.noData?a.setSmallWorkbenchNoDataStyle(c):a.setSmallWorkbenchDataStyle(c)}},a.getContactPersons=function(){f(),c.get(function(b){if(null!==b&&"undefined"!==b&&0!==b.length&&!b.error){if(a.errorWorkbench=!1,a.welcomeSegment=a.properties.welcomeSegmentMsg,a.afspraakText=null,a.afspraakLink=null,"PERBA"===b.segment?(a.segment=b.segment,a.segmentName=a.properties.perbaSegmentName,a.overlayFooterTitle=a.properties.perbaOverlayFooterTitle,a.overlayFooterText=a.properties.perbaOverlayFooterText,a.afspraakText=a.properties.afspraakText,a.afspraakLink=a.properties.afspraakLink):"PRIBA"===b.segment?(a.segment=b.segment,a.segmentName=a.properties.pribaSegmentName,a.overlayFooterTitle=a.properties.pribaOverlayFooterTitle,a.overlayFooterText=a.properties.pribaOverlayFooterText):"WEALTH"===b.segment?(a.segment=b.segment,a.segmentName=a.properties.wealthSegmentName,a.overlayFooterTitle=a.properties.wealthOverlayFooterTitle,a.overlayFooterText=a.properties.wealthOverlayFooterText):(a.segment=null,a.segmentName=null,a.overlayFooterTitle=null,a.overlayFooterText=null),null!==a.segment)if(b.team&&b.team.contactPersons&&0!==b.team.contactPersons.length){a.teamPhone=b.team.phone,a.teamEmail=b.team.email,b.team.office&&(a.teamOfficeName=b.team.office.name,b.team.office.address&&(a.teamOfficeStreetAndNumber=b.team.office.address.streetAndNumber));var c=4,d=Math.min(b.team.contactPersons.length,c);a.numberOfContactPersons=d;for(var e=0;d>e;++e){var f={name:b.team.contactPersons[e].name,pictureURL:b.team.contactPersons[e].pictureURL,role:b.team.contactPersons[e].role,specialisation:b.team.contactPersons[e].specialisation,phone:b.team.contactPersons[e].phone,email:b.team.contactPersons[e].email};a.isPerba()&&("Accountmanager"===f.role?(f.phone=a.teamPhone,f.email=a.teamEmail):(f.phone="",f.email="",f.teamOfficeName=a.teamOfficeName,f.teamOfficeStreetAndNumber=a.teamOfficeStreetAndNumber)),a.contactPersons=a.contactPersons.concat(f)}}else a.noData=!0;a.setSmallWorkbenchStyle(a.smallLayout)}},function(b){a.throwError(b,"errorWorkbench",!0)})},a.isPerba=function(){return"PERBA"===a.segment},a.isPriba=function(){return"PRIBA"===a.segment},a.isWealth=function(){return"WEALTH"===a.segment},a.numberOfContactPersons=function(){return a.contactPersons.length},a.sendBusinessMonitoringEvent=function(){if(a.segmentName){var b=a.segmentName.toLowerCase().replace(/ /g,"-");d.sendMonitoringEvent(b)}},a.throwError=function(b,c,d){0!==b.status&&(a[c]=d)},a.to_trusted=function(a){return e.trustAsHtml(a)},window.loadedImage=function(a){g(a).removeClass("h-invisible")},window.hideImage=function(a){g(a).hide()},window.hideParent=function(a){g(a).parent().hide()}}]),angular.module("gContactPersonsApp").directive("hideRiafHeaderPagetitle",function(){var a=$;return function(){a("#riaf-header-pagetitle").hide()}}).directive("contactPersonPanel",function(){return{restrict:"E",scope:{contactPerson:"="},templateUrl:"gContactPersons/app/partials/contactPersonPanel.html"}}),angular.module("gContactPersonsApp").directive("appVersion",["version",function(a){"use strict";return function(b,c){c.text(a.version)}}]),angular.module("gContactPersonsApp").filter("addBusinessMonitoringEvent",function(){"use strict";return function(a){return a&&a.replace(/<a /g,'<a ng-click="businessMonitoringLink($event)" ')}}),angular.module("gContactPersonsApp").service("businessMonitoringService",function(){this.sendMonitoringEvent=function(a){"undefined"!=typeof s&&a&&(s.pageName="clp:betalen:"+a,s.pageEvent())}}),angular.module("gContactPersonsApp").factory("ContactPersonsService",["$resource",function(a){"use strict";return a("/api/contact/contactpersons",{},{get:{method:"GET"}})}]),angular.module("gContactPersonsApp").factory("version",function(){"use strict";return{version:"1.0.0-SNAPSHOT"}}),angular.module("ingGlobal").run(["$templateCache",function(a){"use strict";a.put("gContactPersons/app/partials/contactPersonPanel.html",'<div class="panel panel-shadow-a h-bg-a l-pb-1"><div class="panel-body"><div class="row"><div ing-mq-classes="{zero:\'col-xxs-3\', xs:\'col-xs-3\', md:\'col-md-3\', lg:\'col-lg-3\'}" class="l-mb-1 l-pr-1" ng-if="contactPerson.pictureURL"><img ng-src="{{contactPerson.pictureURL}}" class="img-responsive h-invisible" onload="loadedImage(this)" onerror="hideParent(this)" ng-if="contactPerson.pictureURL"></div><div id="contactPanel_xs_lg_plus" ing-mq-classes="{zero:\'col-xxs-9\', xs:\'col-xs-9\', md:\'col-md-9\', lg:\'col-lg-9\'}"><h3 class="rockwell-b-lg"><span>{{contactPerson.name}}</span><small class="rockwell-l-md l-mb-2">{{contactPerson.role}}</small></h3><div class="rockwell-l-md" id="firstPhoneMailPanel" ing-mq-classes="{zero:\'h-hidden\', xs:\'\', md:\'h-hidden\', lg:\'\'}"><span ng-if="contactPerson.phone" class="position position-left position-lg position-top"><i aria-hidden="true" class="position-component icon icon-gray icon-phone"></i> {{contactPerson.phone}}</span> <span ng-if="contactPerson.email" class="l-mb-1 h-clear-float h-text-word-break position position-left position-lg position-top"><i aria-hidden="true" class="position-component icon icon-gray icon-email"></i> <a href="mailto:{{contactPerson.email}}">{{contactPerson.email}}</a></span></div><span class="rockwell-l-md l-mb-1 position position-left position-lg position-top" ng-if="contactPerson.teamOfficeName" ing-mq-classes="{zero:\'h-hidden\', xs:\'\', md:\'h-hidden\', lg:\'\'}"><i aria-hidden="true" class="position-component icon icon-lg icon-gray icon-house"></i> {{contactPerson.teamOfficeName}}<br>{{contactPerson.teamOfficeStreetAndNumber}}</span></div></div><div id="contactPanel_xxs_md" ing-mq-classes="{zero:\'\', xs:\'h-hidden\', md:\'\', lg:\'h-hidden\'}"><div id="secondPhoneMailPanel" class="rockwell-l-md"><span ng-if="contactPerson.phone" class="position position-left position-lg position-top"><i aria-hidden="true" class="position-component icon icon-gray icon-phone"></i> {{contactPerson.phone}}</span> <span class="h-clear-float h-text-word-break position position-left position-lg position-top" ng-if="contactPerson.email"><i area-hidden="true" class="position-component icon icon-gray icon-email"></i> <a href="mailto:{{contactPerson.email}}">{{contactPerson.email}}</a></span></div><span ng-if="contactPerson.teamOfficeName" class="rockwell-l-md position position-left position-lg position-top"><i aria-hidden="true" class="position-component icon icon-gray icon-house"></i> {{contactPerson.teamOfficeName}}<br>{{contactPerson.teamOfficeStreetAndNumber}}</span></div><div class="rockwell-l-md l-mb-1 l-mt-1 line-height-sm" data-ng-bind-html="contactPerson.specialisation"></div></div></div>'),a.put("gContactPersons/app/partials/gcontactpersons-index.html",'<div><div id="gcontactpersons" ng-cloak class="ng-cloak tg"><h1 id="riaf-header-pagetitle" hide-riaf-header-pagetitle class="riaf-header-pagetitle rockwell">Contactinformatie</h1></div></div>'),a.put("gContactPersons/app/partials/gcontactpersons-overlay.html",'<div id="gcontactpersons-tab" ng-cloak class="ng-cloak tg" ng-init="sendBusinessMonitoringEvent()"><div ng-show="(errorWorkbench == false) && segment"><div id="gcontactpersons-overlay" class="panel panel-a l-pb-10"><!--<div>Viewport: {{mq}}</div>--><div class="panel-heading panel-title panel-title-primary l-pt-2 l-mr-3"><h3 ing-mq-classes="{zero:\'heading-b-xxxl l-mb-1\', xs:\'heading-b-xxxl l-mb-1\', md:\'heading-b-hg l-mb-2\', lg:\'heading-b-hg l-mb-2\'}" class="heading-b-xxxl visible-xs visible-sm l-mb-1"><span>{{segmentName}}</span><small ing-mq-classes="{zero:\'heading-l-xl\', xs:\'heading-l-xl\', md:\'heading-l-xxl\', lg:\'heading-l-xxl\'}" class="heading-l-xl">{{welcomeSegment}}</small></h3><h3 ing-mq-classes="{zero:\'heading-b-xxxl l-mb-1\', xs:\'heading-b-xxxl l-mb-1\', md:\'heading-b-hg l-mb-2\', lg:\'heading-b-hg l-mb-2\'}" class="heading-b-hg visible-md visible-lg l-mb-2"><span>{{segmentName}}</span><small ing-mq-classes="{zero:\'heading-l-xl\', xs:\'heading-l-xl\', md:\'heading-l-xxl\', lg:\'heading-l-xxl\'}" class="heading-l-xxl">{{welcomeSegment}}</small></h3></div><div class="panel-body h-bg-b l-pt-1"><div class="row"><div id="contactPersonPanel1" ing-mq-classes="{zero:\'col-xxs-12\', xs:\'col-xs-12\', md:\'col-md-6\', lg:\'col-lg-6\'}" ng-if="contactPersons.length > 0"><contact-person-panel contact-person="contactPersons[0]"></contact-person-panel></div><div id="contactPersonPanel2" ing-mq-classes="{zero:\'col-xxs-12\', xs:\'col-xs-12\', md:\'col-md-6\', lg:\'col-lg-6\'}" ng-if="contactPersons.length > 1"><contact-person-panel contact-person="contactPersons[1]"></contact-person-panel></div></div><div class="row"><div id="contactPersonPanel3" ing-mq-classes="{zero:\'col-xxs-12\', xs:\'col-xs-12\', md:\'col-md-6\', lg:\'col-lg-6\'}" ng-if="contactPersons.length > 2"><contact-person-panel contact-person="contactPersons[2]"></contact-person-panel></div><div id="contactPersonPanel4" ing-mq-classes="{zero:\'col-xxs-12\', xs:\'col-xs-12\', md:\'col-md-6\', lg:\'col-lg-6\'}" ng-if="contactPersons.length > 3"><contact-person-panel contact-person="contactPersons[3]"></contact-person-panel></div></div></div><div class="panel-footer l-mt-2 l-pb-0"><h3 class="heading-b-lg" data-ng-bind-html="to_trusted(overlayFooterTitle)"></h3><div class="rockwell-l-md" data-ng-bind-html="to_trusted(overlayFooterText)"></div><div ng-if="isPerba()"><span class="icon icon-arrow-c-right" aria-hidden="true"></span><a href="{{afspraakLink}}">{{afspraakText}}</a></div><div ng-if="contactPersons.length > 2" class="l-pt-1 l-pb-2"><input class="btn btn-md btn-primary" ng-click="close()" value="Sluiten" type="button"></div><div ng-if="contactPersons.length <= 2" class="l-pb-2"></div></div></div></div>'),a.put("gContactPersons/app/partials/gcontactpersons-workbench.html",'<div id="gcontactpersons-workbench" ng-cloak class="ng-cloak tg" ng-controller="workbenchController"><div ng-init="getContactPersons()" ng-if="!smallLayout" id="gcontactpersons-workbench-large-data"><div ng-if="(errorWorkbench === false) && (segmentName != null)"><div ing-modal partial="gContactPersons/app/partials/gcontactpersons-overlay.html" ng-if="!noData"><div class="h-cursor-pointer"><img ng-repeat="item in contactPersons" ng-src="{{item.pictureURL}}" ng-if="item.pictureURL" onload="loadedImage(this)" onerror="hideImage(this)" width="35px" height="55px" class="h-invisible l-mt-1 l-ml-1"></div><div class="rockwell-r-sm h-text-a h-cursor-pointer"><span class="position position-left position-xs l-pl-2" id="gcontactpersons-workbench-large-teamname"><span aria-hidden="true" class="position-component l-pt-05 icon icon-arrow-a-right icon-orange"></span> {{segmentName}}</span></div></div><div ng-if="noData" class="rockwell-r-sm" data-ng-bind-html="to_trusted(\'{{properties.errorNoData}}\')"></div></div></div><div ng-init="getContactPersons()" ng-if="smallLayout" id="gcontactpersons-workbench-small-data"><div ng-if="(errorWorkbench === false) && (segmentName != null)"><div ng-if="!noData" class="h-cursor-pointer" ing-modal partial="gContactPersons/app/partials/gcontactpersons-overlay.html"><img ng-repeat="item in contactPersons" ng-src="{{item.pictureURL}}" onload="loadedImage(this)" onerror="hideImage(this)" width="15px" height="23px" class="h-invisible h-float-left l-ml-05"> <span class="h-float-left l-ml-05 icon icon-xxs icon-arrow-a-right icon-orange"></span> <span class="h-float-left l-pl-05 l-w-{{segmentWidthPercentage}} arial-b-xs h-text-a h-text-overflow-wrap" id="gcontactpersons-workbench-small-teamname">{{segmentName}}</span></div><div ng-if="noData" class="arial-r-sm" data-ng-bind-html="to_trusted(\'{{properties.errorNoDataSmall}}\')"></div></div></div></div>')}]);